
<!DOCTYPE html>

<head>
<title>Snowy</title>
<link href="snowflake64.png" rel="icon" type="image/x-icon"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta charset="utf-8"/>
<link href="https://fonts.googleapis.com/css?family=Alegreya" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet"/>
<style>
body {
    margin: 0;
    font-size: 15px;
    font-family: "Avenir Next", "HelveticaNeue", "Helvetica Neue",
        Helvetica, Arial, "Lucida Grande", sans-serif;
    text-rendering: optimizeLegibility;
    font-weight: 400;
    -webkit-font-smoothing:auto;
    background-color: #e2e2e2;
}
h1 {
    font-family: 'Alegreya', serif;
    font-size: 40px;
}
main {
    overflow: auto;
    margin: 0 auto;
    padding: 0 80px 20px 80px;
    max-width: 800px;
    background-color: #f2f2f2;
    position: relative;
}
@media (max-width: 960px){
    body{ background-color: #f2f2f2; }
    main{ padding: 0 20px 100px 20px; }
}
pre {
    padding: 10px;
    background-color: #f8f8f8;
    white-space: pre-wrap;
    font-family: 'Inconsolata', monospace;
}
code {
    font-family: 'Inconsolata', monospace;
}
li {
    margin-bottom: 1em;
}
a {
    text-decoration: none;
    color: #2962ad;
}
h2 a, h3 a, h4 a { color: black }
h2 a:hover, h3 a:hover, h4 a:hover { color: #19529d }
</style>
<style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #8f5902; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #ef2929 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #204a87; font-weight: bold } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #ce5c00; font-weight: bold } /* Operator */
.highlight .x { color: #000000 } /* Other */
.highlight .p { color: #000000; font-weight: bold } /* Punctuation */
.highlight .ch { color: #8f5902; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #8f5902; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #8f5902; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #8f5902; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #8f5902; font-style: italic } /* Comment.Single */
.highlight .cs { color: #8f5902; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #ef2929 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #a40000; font-weight: bold } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #204a87; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #204a87; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #204a87; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #204a87; font-weight: bold } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #0000cf; font-weight: bold } /* Literal.Number */
.highlight .s { color: #4e9a06 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #204a87 } /* Name.Builtin */
.highlight .nc { color: #000000 } /* Name.Class */
.highlight .no { color: #000000 } /* Name.Constant */
.highlight .nd { color: #5c35cc; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #ce5c00 } /* Name.Entity */
.highlight .ne { color: #cc0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #000000 } /* Name.Function */
.highlight .nl { color: #f57900 } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #204a87; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #000000 } /* Name.Variable */
.highlight .ow { color: #204a87; font-weight: bold } /* Operator.Word */
.highlight .w { color: #f8f8f8; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #0000cf; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000cf; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000cf; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000cf; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000cf; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #4e9a06 } /* Literal.String.Affix */
.highlight .sb { color: #4e9a06 } /* Literal.String.Backtick */
.highlight .sc { color: #4e9a06 } /* Literal.String.Char */
.highlight .dl { color: #4e9a06 } /* Literal.String.Delimiter */
.highlight .sd { color: #8f5902; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4e9a06 } /* Literal.String.Double */
.highlight .se { color: #4e9a06 } /* Literal.String.Escape */
.highlight .sh { color: #4e9a06 } /* Literal.String.Heredoc */
.highlight .si { color: #4e9a06 } /* Literal.String.Interpol */
.highlight .sx { color: #4e9a06 } /* Literal.String.Other */
.highlight .sr { color: #4e9a06 } /* Literal.String.Regex */
.highlight .s1 { color: #4e9a06 } /* Literal.String.Single */
.highlight .ss { color: #4e9a06 } /* Literal.String.Symbol */
.highlight .bp { color: #3465a4 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #000000 } /* Name.Function.Magic */
.highlight .vc { color: #000000 } /* Name.Variable.Class */
.highlight .vg { color: #000000 } /* Name.Variable.Global */
.highlight .vi { color: #000000 } /* Name.Variable.Instance */
.highlight .vm { color: #000000 } /* Name.Variable.Magic */
.highlight .il { color: #0000cf; font-weight: bold } /* Literal.Number.Integer.Long */
.highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi,
.highlight .mo { color: #0063cf; }
</style><main>
<!-- GITHUB FORK ME LOGO -->
<a aria-label="View source on Github" class="github-corner" href="https://github.com/prideout/snowy">
<svg aria-hidden="true" height="80" style="color:#fff; position: absolute; top: 0; border: 0;
right: 0;" viewbox="0 0 250 250" width="80"> <path d="M0,0 L115,115 L130,115 L142,142
L250,250 L250,0 Z"></path> <path class="octo-arm" d="M128.3,109.0 C113.8,99.7 119.0,89.6
119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3
123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9
134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;"></path><path class="octo-body" d="M115.0,115.0 C114.9,115.1 118.7,116.5
119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0
127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4
163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6
187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2
216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4
203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1
C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7
141.6,141.9 141.8,141.8 Z" fill="currentColor"></path></svg></a>
<style>.github-corner:hover svg { fill: #19529d }</style>
<h1>
 Snowy
</h1>
<p>
 This is a tiny Python 3 module for manipulating and generating images.
</p>
<p>
 With snowy, all images are three-dimensional numpy arrays. For example, an RGB image has shape
 <code>
  [height,width,3]
 </code>
 and a grayscale image has shape
 <code>
  [height,width,1]
 </code>
 . However there are some
convenient unary functions to make it easy to interop with other libraries:
</p>
<ul>
<li>
  To add or remove the trailing "1" for grayscale images, use
  <a href="#shape">
   shape
  </a>
  and
  <a href="#unshape">
   unshape
  </a>
  .
 </li>
<li>
  To switch an array in or out of planar format (color channels are in the leading dimension), use
  <a href="#dsplit">
   dsplit
  </a>
  and
  <a href="#dstack">
   dstack
  </a>
  .
 </li>
</ul>
<h2 id="installing"><a href="#installing">Installing</a></h2>
<p>
 To install and update snowy, do this:
</p>
<p>
<code>
  pip3 install -U snowy
 </code>
</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<h3 id="resize_and_blur"><a href="#resize_and_blur">Resize and blur</a></h3>
<p>
 This snippet downsamples an image, blurs it, and stacks it up against the original.
</p>
<div class="highlight">
<pre><span></span><span class="kn">import</span> <span class="nn">snowy</span>

<span class="n">source</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'source.png'</span><span class="p">)</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">blurry</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">blur</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">snowy</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">snowy</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">source</span><span class="p">,</span> <span class="n">blurry</span><span class="p">]),</span> <span class="s1">'diptych.png'</span><span class="p">)</span>
</pre>
</div>
<img height="128px" src="https://github.com/prideout/snowy/raw/master/docs/diptych.png"/>
<p>
 The next snippet first magnifies an image using a nearest-neighbor filter, then using the default
Mitchell filter.
</p>
<div class="highlight">
<pre><span></span><span class="n">parrot</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">'parrot.png'</span><span class="p">)</span>
<span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">parrot</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="n">nearest</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">parrot</span><span class="p">,</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">6</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">snowy</span><span class="o">.</span><span class="n">NEAREST</span><span class="p">)</span> 
<span class="n">mitchell</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">parrot</span><span class="p">,</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">snowy</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">snowy</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">nearest</span><span class="p">,</span> <span class="n">mitchell</span><span class="p">]))</span>
</pre>
</div>
<img height="128px" src="https://github.com/prideout/snowy/raw/master/docs/diptych-parrot.png"/>
<h3 id="crop"><a href="#crop">Crop</a></h3>
<p>
 This loads an OpenEXR image, then crops out the top half by slicing the numpy array.
</p>
<div class="highlight">
<pre><span></span><span class="n">sunset</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">'sunset.exr'</span><span class="p">)</span>
<span class="n">cropped_sunset</span> <span class="o">=</span> <span class="n">sunset</span><span class="p">[:</span><span class="mi">100</span><span class="p">,:,:]</span>
<span class="n">snowy</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cropped_sunset</span> <span class="o">/</span> <span class="mf">50.0</span><span class="p">)</span> <span class="c1"># darken the image</span>
</pre>
</div>
<img height="128px" src="https://github.com/prideout/snowy/raw/master/docs/cropped-sunset.png"/>
<h3 id="gradient_noise"><a href="#gradient_noise">Gradient Noise</a></h3>
<p>
 Snowy's
 <code>
  noise
 </code>
 function generates a single-channel image whose values are in [-1, +1].
</p>
<div class="highlight">
<pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="n">snowy</span><span class="o">.</span><span class="n">noise</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">wrapx</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">])</span>
<span class="n">snowy</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span>
</pre>
</div>
<img height="128px" src="https://github.com/prideout/snowy/raw/master/docs/noise.png"/>
<h3 id="distance_fields"><a href="#distance_fields">Distance Fields</a></h3>
<p>
 TBD
</p>
<h2 id="reference"><a href="#reference">Reference</a></h2>
<h3 id="add_border"><a href="#add_border">add_border</a></h3>
<p>
Extend the size of an image by adding borders.  <p> The <code>sides</code> argument defaults to <code>"LTRB"</code>, which enables borders for all four sides: Left, Top, Right, and Bottom. This can be used to select which borders you wish to add. </p> <p> Also takes a <code>width</code> argument which defaults to 2. This can control the thickness of the border. </p> <p> The <code>value</code> argument (defaults to 0) controls the fill color used for the border. For example: </p> <pre class="highlight"> image = snowy.add_border(image, width=3, value=1, sides='LTR') </pre>
</p>
<h3 id="blur"><a href="#blur">blur</a></h3>
<p>
Create a filtered numpy image with same size as the original.
</p>
<h3 id="generate_noise"><a href="#generate_noise">generate_noise</a></h3>
<p>
Generate a single-channel gradient noise image.  A frequency of 1.0 creates a single surflet across the width of the image, while a frequency of 4.0 creates a 4x4 grid such that the (2,2) surflet is centered. Noise values live within the [-1,+1] range.
</p>
<h3 id="generate_sdf"><a href="#generate_sdf">generate_sdf</a></h3>
<p>
Create a signed distance field from a field of booleans.
</p>
<h3 id="generate_udf"><a href="#generate_udf">generate_udf</a></h3>
<p>
Create an unsigned distance field from a field of booleans.
</p>
<h3 id="hstack"><a href="#hstack">hstack</a></h3>
<p>
Horizontally concatenate a list of images with a border.  This is similar to numpy's <code>hstack</code> except that it adds a border around each image. The borders can be controlled with the optional <code>border_width</code> and <code>border_value</code> arguments.
</p>
<h3 id="load"><a href="#load">load</a></h3>
<p>
Create a numpy array from the given image file.
</p>
<h3 id="reshape"><a href="#reshape">reshape</a></h3>
<p>
Add a trailing dimension to single-channel 2D images.
</p>
<h3 id="resize"><a href="#resize">resize</a></h3>
<p>
Create a new numpy image with the desired size.  Either width or height can be null, in which case its value is inferred from the aspect ratio of the source image.
</p>
<h3 id="save"><a href="#save">save</a></h3>
<p>
Save a numpy array as an image file at the given path.
</p>
<h3 id="show"><a href="#show">show</a></h3>
<p>
Display an image in a platform-specific way.
</p>
<h3 id="unshape"><a href="#unshape">unshape</a></h3>
<p>
Remove the trailing dimension from single-channel 3D images.
</p>
<h3 id="vstack"><a href="#vstack">vstack</a></h3>
<p>
Vertically concatenate a list of images with a border.  This is similar to numpy's <code>vstack</code> except that it adds a border around each image. The borders can be controlled with the optional <code>border_width</code> and <code>border_value</code> arguments.
</p>
<a href="https://github.prideout.net/">
<img src="https://github.prideout.net/assets/PublishedLogo.svg" width="175px"/>
</a>
</main>
</head>